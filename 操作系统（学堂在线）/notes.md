## 总体框架（复习使用）

### 涉及到的内容

1. 操作系统结构
2. 中断及系统调用
3. 内存管理
4. 进程与线程
5. 处理机调度
6. 同步互斥
7. 文件系统
8. I/O子系统

0. 概述

* 什么是操作系统？
无公认的定义，控制程序（系统程序，控制程序执行，执行用户程序），资源管理器（中间层，管理资源，分配资源）

* 操作系统内核的特征
并发（多个程序执行），共享，虚拟与异步

1. 系统启动，中断和系统调用

* 计算机体系结构（CPU，内存，I/O设备与总线），启动时内存和硬盘布局

* 为什么需要中断，异常与系统调用？
只要内核被信任，具有最高特权，其他应用需要访问系统资源，方便用户程序

* 中断和异常希望解决的问题：外设连接计算机时怎么处理，程序有意想不到行为时怎么处理

* 系统调用希望解决的问题：应用程序如何得到系统服务

* 中断，异常与系统调用的不同之处（表现，源头与处理方式）

2. 内存管理：物理内存与连续内存分配

* 内存层次（寄存器，缓存，内存，虚拟内存）
* 内存管理（内存管理单元MMU）：抽象（逻辑地址），保护（独立地址空间），共享（访问相同内存），虚拟化（更大的地址空间）
* 内存管理方式：重定位，分段，分页，虚拟存储，实现高度依赖硬件
* 地址空间与地址生成
* 地址生成时机与限制：编译时（假设地址已知，若变则重新编译），加载时（加载时生成绝对地址），运行时（执行时地址可移动，需地址转换硬件支持）
* 连续内存分配：内存碎片（外部碎片：分配单元之间，内部碎片取整造成）
* 动态分区分配及策略：最先，最优，最差匹配，释放时均检查能否与相邻空闲分区合并
* 伙伴系统分配策略（分配与释放）

3. 内存管理：非连续内存分配

* 目标：利用效率高，管理灵活
* 需要解决的问题：虚拟地址与物理地址转换（软，硬）
* 辅助机制：段式管理与页式管理
* 段式管理：段（访问方式和存储数据属性相同的一段地址空间），代码段，堆，栈等；段号与段内偏移
* 段描述符：操作系统维护

* 页式存储管理：页帧，页面，页帧大小相同，页表
* 每个进程都有一个页表：内存访问性能，需两次访问内存（页表项与数据）
* 页表过大的处理机制：缓存（块表）与多级页表，反置页表
* 段页式存储管理


4. 虚拟存储概念

5. 页面置换算法

6. 进程与线程

7. 进程控制

8. 处理机调度

9. 同步互斥

10. 信号量和管程

11. 死锁和进程通信

12. 文件系统

13. IO子系统